<div class="user-edit-container">
  <h2 class="user-edit-title">Edit User</h2>
  <form class="user-edit-form" (submit)="updateUser(userId, userForm.value)">
    <dx-form [formData]="userForm.value" [disabled]="loading">

      <dxi-item dataField="firstName" editorType="dxTextBox"
        [editorOptions]="{ stylingMode: 'filled', placeholder: 'First Name' }">
        <dxi-validation-rule type="required" message="First Name is required"></dxi-validation-rule>
        <dxo-label [visible]="false"></dxo-label>
      </dxi-item>

      <dxi-item dataField="lastName" editorType="dxTextBox"
        [editorOptions]="{ stylingMode: 'filled', placeholder: 'Last Name' }">
        <dxi-validation-rule type="required" message="Last Name is required"></dxi-validation-rule>
        <dxo-label [visible]="false"></dxo-label>
      </dxi-item>

      <dxi-item dataField="email" editorType="dxTextBox"
        [editorOptions]="{ stylingMode: 'filled', placeholder: 'Email', mode: 'email' }">
        <dxi-validation-rule type="required" message="Email is required"></dxi-validation-rule>
        <dxi-validation-rule type="email" message="Email is invalid"></dxi-validation-rule>
        <dxo-label [visible]="false"></dxo-label>
      </dxi-item>

      <dxi-item dataField="phoneNumber" editorType="dxTextBox"
        [editorOptions]="{ stylingMode: 'filled', placeholder: 'Phone Number' }">
        <dxi-validation-rule type="required" message="Phone Number is required"></dxi-validation-rule>
        <dxo-label [visible]="false"></dxo-label>
      </dxi-item>

      <dxi-item dataField="address" editorType="dxTextBox"
        [editorOptions]="{ stylingMode: 'filled', placeholder: 'Address' }">
        <dxi-validation-rule type="required" message="Address is required"></dxi-validation-rule>
        <dxo-label [visible]="false"></dxo-label>
      </dxi-item>

      <dxi-item dataField="companyId" editorType="dxSelectBox" [editorOptions]="{
        items: company, 
        displayExpr: 'companyName', 
        valueExpr: 'id'}">
        <dxo-label text="Company"></dxo-label>
      </dxi-item>

      <dxi-item dataField="roles" editorType="dxSelectBox" [editorOptions]="{ 
          items: roles,
          stylingMode: 'filled', 
          placeholder: 'Roles', 
          dataSource: roles, 
          displayExpr: 'name', 
          valueExpr: 'name',
          showClearButton: true,
          searchEnabled: true,
          searchExpr: 'name',
          value: initialRole
        }">
        <dxi-validation-rule type="required" message="Roles is required"></dxi-validation-rule>
        <dxo-label [visible]="false"></dxo-label>
      </dxi-item>


      <dxi-item itemType="button">
        <dxo-button-options text="Submit" width="100%" type="default" [useSubmitBehavior]="true"></dxo-button-options>
      </dxi-item>

      <dxi-item itemType="button">
        <dxo-button-options text="Delete" width="100%" type="danger" (onClick)="deleteUser()"></dxo-button-options>
      </dxi-item>

    </dx-form>
  </form>
</div>